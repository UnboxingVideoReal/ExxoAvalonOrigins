using Microsoft.Xna.Framework;using System;using System.Collections.Generic;using System.Linq;using System.Text;using System.Threading.Tasks;using Terraria;using Terraria.ModLoader;using Terraria.ID;using Terraria.Localization;

namespace ExxoAvalonOrigins.Items{	class TimechangerMkII : ModItem	{		int switchCounter;		public override void SetStaticDefaults()		{			DisplayName.SetDefault("Timechanger Mk II");		}		public override void SetDefaults()		{			Rectangle dims = ExxoAvalonOrigins.getDims("Items/TimechangerMkII");			item.rare = 6;			item.width = dims.Width;			item.useTime = 30;			item.useStyle = 1;			item.value = Item.sellPrice(0, 3, 70, 0);			item.useAnimation = 15;			item.height = dims.Height;		}		public override bool AltFunctionUse(Player player)		{			return true;		}		public override bool UseItem(Player player)		{			if (player.altFunctionUse == 2) // right click
			{				switchCounter += 1;				if (switchCounter > 3)					switchCounter = 0;				switch (switchCounter)
				{					case 0:						if (Main.netMode == NetmodeID.SinglePlayer)							Main.NewText("Mode set to Night.", 50, 255, 130, false);						else if (Main.netMode == NetmodeID.Server)							NetMessage.SendData(25, -1, -1, NetworkText.FromLiteral("Mode set to Night."), 255, 50f, 255f, 130f, 0);						break;					case 1:						if (Main.netMode == NetmodeID.SinglePlayer)							Main.NewText("Mode set to Midnight.", 50, 255, 130, false);						else if (Main.netMode == NetmodeID.Server)							NetMessage.SendData(25, -1, -1, NetworkText.FromLiteral("Mode set to Midnight."), 255, 50f, 255f, 130f, 0);						break;					case 2:						if (Main.netMode == NetmodeID.SinglePlayer)							Main.NewText("Mode set to Day.", 50, 255, 130, false);						else if (Main.netMode == NetmodeID.Server)							NetMessage.SendData(25, -1, -1, NetworkText.FromLiteral("Mode set to Day."), 255, 50f, 255f, 130f, 0);						break;					case 3:						if (Main.netMode == NetmodeID.SinglePlayer)							Main.NewText("Mode set to Midday.", 50, 255, 130, false);						else if (Main.netMode == NetmodeID.Server)							NetMessage.SendData(25, -1, -1, NetworkText.FromLiteral("Mode set to Midday."), 255, 50f, 255f, 130f, 0);						break;
				}			}			else			{				switch (switchCounter)				{					case 0:						Main.dayTime = true;						Main.time = 53999;						if (Main.netMode == NetmodeID.SinglePlayer)							Main.NewText("It is now Night.", 50, 255, 130, false);						else if (Main.netMode == NetmodeID.Server)							NetMessage.SendData(25, -1, -1, NetworkText.FromLiteral("It is now Night."), 255, 50f, 255f, 130f, 0);						break;					case 1:						Main.dayTime = false;						Main.time = 16200;						if (Main.netMode == NetmodeID.SinglePlayer)							Main.NewText("It is now Midnight.", 50, 255, 130, false);						else if (Main.netMode == NetmodeID.Server)							NetMessage.SendData(25, -1, -1, NetworkText.FromLiteral("It is now Night."), 255, 50f, 255f, 130f, 0);						break;					case 2:						Main.dayTime = false;						Main.time = 32399;						if (Main.netMode == NetmodeID.SinglePlayer)							Main.NewText("It is now Day.", 50, 255, 130, false);						else if (Main.netMode == NetmodeID.Server)							NetMessage.SendData(25, -1, -1, NetworkText.FromLiteral("It is now Night."), 255, 50f, 255f, 130f, 0);						break;					case 3:						Main.dayTime = true;						Main.time = 27000;						if (Main.netMode == NetmodeID.SinglePlayer)							Main.NewText("It is now Midday.", 50, 255, 130, false);						else if (Main.netMode == NetmodeID.Server)							NetMessage.SendData(25, -1, -1, NetworkText.FromLiteral("It is now Night."), 255, 50f, 255f, 130f, 0);						break;				}			}			return base.CanUseItem(player);		}	}}