using Microsoft.Xna.Framework;using System;using System.Collections.Generic;using System.Linq;using System.Text;using System.Threading.Tasks;using Terraria;using Terraria.ModLoader;using Terraria.ID;namespace ExxoAvalonOrigins.Projectiles{	public class ElementBeam : ModProjectile	{		public override void SetStaticDefaults()		{			DisplayName.SetDefault("Element Beam");		}		public override void SetDefaults()		{			Rectangle dims = ExxoAvalonOrigins.getDims("Projectiles/ElementBeam");			projectile.width = 16;			projectile.height = 16;			projectile.aiStyle = -1;			projectile.melee = true;			projectile.penetrate = 5;			projectile.light = 0.8f;			projectile.alpha = 255;			projectile.friendly = true;		}        public override bool OnTileCollide(Vector2 oldVelocity)        {            Main.PlaySound(2, (int)projectile.position.X, (int)projectile.position.Y, 10);            return true;        }        public override void AI()		{			var num484 = Dust.NewDust(new Vector2(projectile.position.X - projectile.velocity.X * 4f + 2f, projectile.position.Y + 2f - projectile.velocity.Y * 4f), 8, 8, 181, projectile.oldVelocity.X, projectile.oldVelocity.Y, 100, default(Color), 1.25f);			Main.dust[num484].velocity *= -0.25f;			Main.dust[num484].noGravity = true;			num484 = Dust.NewDust(new Vector2(projectile.position.X - projectile.velocity.X * 4f + 2f, projectile.position.Y + 2f - projectile.velocity.Y * 4f), 8, 8, 181, projectile.oldVelocity.X, projectile.oldVelocity.Y, 100, default(Color), 1.25f);			Main.dust[num484].velocity *= -0.25f;			Main.dust[num484].noGravity = true;			Main.dust[num484].position -= projectile.velocity * 0.5f;			if (projectile.localAI[1] < 15f)			{				projectile.localAI[1] += 1f;			}			else			{				if (projectile.localAI[0] == 0f)				{					projectile.scale -= 0.02f;					projectile.alpha += 30;					if (projectile.alpha >= 250)					{						projectile.alpha = 255;						projectile.localAI[0] = 1f;					}				}				else if (projectile.localAI[0] == 1f)				{					projectile.scale += 0.02f;					projectile.alpha -= 30;					if (projectile.alpha <= 0)					{						projectile.alpha = 0;						projectile.localAI[0] = 0f;					}				}			}			if (projectile.ai[1] == 0f)			{				projectile.ai[1] = 1f;				Main.PlaySound(2, (int)projectile.position.X, (int)projectile.position.Y, 8);			}			if (projectile.type == ProjectileID.NightBeam)			{				projectile.rotation += projectile.direction * 0.4f;				projectile.spriteDirection = projectile.direction;			}			else			{				projectile.rotation = (float)Math.Atan2(projectile.velocity.Y, projectile.velocity.X) + 0.785f;			}			if (projectile.velocity.Y > 16f)			{				projectile.velocity.Y = 16f;			}		}	}}