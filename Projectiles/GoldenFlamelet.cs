using Microsoft.Xna.Framework;using System;using System.Collections.Generic;using System.Linq;using System.Text;using System.Threading.Tasks;using Terraria;using Terraria.ModLoader;using Terraria.ID;namespace ExxoAvalonOrigins.Projectiles{	public class GoldenFlamelet : ModProjectile	{		public override void SetStaticDefaults()		{			DisplayName.SetDefault("Golden Flamelet");		}		public override void SetDefaults()		{			Rectangle dims = ExxoAvalonOrigins.getDims("Projectiles/GoldenFlamelet");			projectile.width = dims.Width * 8 / 16;			projectile.height = dims.Height * 8 / 16 / Main.projFrames[projectile.type];			projectile.alpha = 100;			projectile.timeLeft = 600;			projectile.light = 0.8f;			projectile.magic = true;			projectile.aiStyle = -1;			projectile.tileCollide = true;			projectile.friendly = true;			projectile.penetrate = 5;		}		public override void AI()		{			if (projectile.type == ModContent.ProjectileType<DarkFlame>())			{				var num150 = Dust.NewDust(new Vector2(projectile.position.X + projectile.velocity.X, projectile.position.Y + projectile.velocity.Y), projectile.width, projectile.height, 58, projectile.velocity.X, projectile.velocity.Y, 100, default(Color), 1f);				Main.dust[num150].noGravity = true;				var num151 = Dust.NewDust(new Vector2(projectile.position.X + projectile.velocity.X, projectile.position.Y + projectile.velocity.Y), projectile.width, projectile.height, 36, projectile.velocity.X, projectile.velocity.Y, 100, default(Color), 1f);				Main.dust[num151].noGravity = true;			}			else if (projectile.type == ModContent.ProjectileType<GoldenFlamelet>())			{				if (projectile.ai[2] == 1f)				{					for (var num152 = 0; num152 < 2; num152++)					{						var num153 = Dust.NewDust(new Vector2(projectile.position.X, projectile.position.Y), projectile.width, projectile.height, 152, projectile.velocity.X, projectile.velocity.Y, 50, default(Color), 1.2f);						Main.dust[num153].noGravity = true;						Main.dust[num153].velocity *= 0.3f;					}					projectile.alpha = 0;				}				else				{					var num154 = Dust.NewDust(new Vector2(projectile.position.X + projectile.velocity.X, projectile.position.Y + projectile.velocity.Y), projectile.width, projectile.height, 57, projectile.velocity.X, projectile.velocity.Y, 100, default(Color), 1f);					Main.dust[num154].noGravity = true;				}			}			else if (projectile.type == ModContent.ProjectileType<JungleFire>())			{				for (var num157 = 0; num157 < 2; num157++)				{					var num158 = Dust.NewDust(new Vector2(projectile.position.X, projectile.position.Y), projectile.width, projectile.height, 106, projectile.velocity.X * 0.2f, projectile.velocity.Y * 0.2f, 100, default(Color), 2f);					Main.dust[num158].noGravity = true;					var dust15 = Main.dust[num158];					dust15.velocity.X = dust15.velocity.X * 0.3f;					var dust16 = Main.dust[num158];					dust16.velocity.Y = dust16.velocity.Y * 0.3f;				}			}			else			{				for (var num159 = 0; num159 < 2; num159++)				{					var num160 = Dust.NewDust(new Vector2(projectile.position.X, projectile.position.Y), projectile.width, projectile.height, 6, projectile.velocity.X * 0.2f, projectile.velocity.Y * 0.2f, 100, default(Color), 2f);					Main.dust[num160].noGravity = true;					var dust17 = Main.dust[num160];					dust17.velocity.X = dust17.velocity.X * 0.3f;					var dust18 = Main.dust[num160];					dust18.velocity.Y = dust18.velocity.Y * 0.3f;				}			}			if (projectile.type != ModContent.ProjectileType<DarkFlame>())			{				projectile.ai[1] += 1f;			}			if (projectile.type == ModContent.ProjectileType<GoldenFlamelet>() && projectile.ai[2] == 1f)			{				projectile.ai[1] -= 1f;			}			if (projectile.ai[1] >= 20f)			{				projectile.velocity.Y = projectile.velocity.Y + 0.2f;			}			projectile.rotation += 0.3f * projectile.direction;			if (projectile.velocity.Y > 16f)			{				projectile.velocity.Y = 16f;			}		}	}}